{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Iñaki Retegi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <script src="https://cdn.tiny.cloud/1/YOUR_API_KEY/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

<style>
  /* Estilo para el contenedor del código */
  pre {
      background-color: #f5f5f5; /* Fondo gris claro */
      color: #212529; /* Texto negro */
      padding: 15px; /* Espaciado interno */
      border-radius: 5px; /* Bordes redondeados */
      border: 1px solid #ddd; /* Borde gris */
      overflow-x: auto; /* Permitir desplazamiento horizontal si el código es largo */
      font-family: 'Courier New', Courier, monospace; /* Fuente monoespaciada */
      font-size: 14px; /* Tamaño de fuente */
      position: relative; /* Necesario para posicionar el botón */
  }

  /* Ajustes al texto del código dentro del bloque */
  code {
      background: none; /* Elimina fondo adicional para el texto del código */
      color: green;
     font-family: 'Roboto Mono', monospace;
      font-size: 16px; 
  }

  /* Botón para copiar */
  .copy-code-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #007bff; /* Color azul del botón */
      color: white; /* Texto blanco */
      border: none; /* Sin borde */
      padding: 5px 10px; /* Espaciado interno del botón */
      cursor: pointer; /* Manito al pasar sobre el botón */
      border-radius: 3px; /* Bordes redondeados del botón */
      font-size: 12px; /* Tamaño del texto del botón */
      z-index: 10; /* Asegura que el botón esté encima */
  }

  .copy-code-btn:hover {
      background-color: #0056b3; /* Cambia el color al pasar el mouse */
  }
</style>


</head>
  <body style="background-image: url()">
   <header class="p-1">
        <div class="container bg-dark p-2 border">
          <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
              <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"/></svg>
            </a>
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a href="{% url 'home_app:home' %}" class="nav-link px-2 text-secondary text-white text-center"><b class="inter-familia">Iñaki<br>Retegi</b></a></li>
            </ul>
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
              
              <li><a href="{% url 'home_app:home' %}" class="nav-link px-2 text-white">Inicio</a></li>
              <li><a href="#" class="nav-link px-2 text-white">Sobre mi</a></li>
            </ul>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
              
                <li><a href="#" class="nav-link px-2 text-white">EUS</a></li>
                <li><a href="#" class="nav-link px-2 text-white">ES</a></li>
              </ul>
    
            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
              <input type="search" class="form-control form-control-dark text-bg-dark text-light" placeholder="Search..." aria-label="Search">
            </form>
    
            {% if user.is_authenticated %}
            <div class="text-end">
             <a href="{% url 'home_app:article_create' %}"><button type="button" class="btn btn-outline-light me-2">Publicar</button></a>
              <a href="#"><button type="button" class="btn btn-outline-light me-2">{{ user.username }}</button></a>
            </div>
            {% else %}
            <div class="text-end">
              <a href="{% url 'account_login' %}"><button type="button" class="btn btn-outline-light me-2">Login</button></a>
              <a href="{% url 'account_signup' %}"><button type="button" class="btn btn-light">Sign-up</button></a>
            </div>
            {% endif %}
          </div>
        </div>
      </header>
     
      <!-- Article ########################################################################## -->

    <div class="container text-center elemento-a-ocultar bg-white">
        <div class="row">
        {% if user.is_authenticated %}
        <div class="col-12 text-end">
        <a href="{% url 'home_app:article_update' article.id %}"><button class="btn bg-secondary mt-3 text-end text-white">Modificar</button></a>
        </div>
        {% endif %}    
            <!--fin de los anuncios de el apartadoi de articulo completo-->
            <div class="col-3 txt-right pt-5" style="border-right: 1px solid #ccc">
              <p class="text-right w-100" style="color:gray; text-align:right;">
                                {{ article.date_time|date:"Y/m/d" }} | {{ article.author }}</p>
                <div class="input-group input-group-sm mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroup-sizing-sm">Buscar</span>
                  </div>
                  <input type="text" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
                </div>
            </div>

            <div class="col-9 pt-5">

            <div class="container mt-4">
              <div class=" text-start article-content">
                  <h1 class="" style="text-align: left;">{{ article.title }}</h1>
              </div>

              <div class="">
                  <!-- Imagen alineada a la izquierda -->
                  <img src="{{ article.image.url }}" alt="Descripción de la imagen" class="w-50" style="float:left; margin-right:20px;">
                  <!-- Texto fluido -->
                  <p style="" class="">{{ article.content|safe }}</p>
              </div>
            </div>

                
                <!--<div class="container mt-5">
                  <h2 class="bg-dark text-white w-25 p-2">Comentarios</h2>
                  <div class="row">
                    <div class="col-1">
                      <div class="w-100" style="background-color:gray;">sdgf</div>
                      <img src="">
                    </div>
                    <div class="col-11">
                        <div class="w-25 text-white bg-dark p-1" style="float:left;">#001</div><br><br><label class="ml-3" style="color:gray;"> Juan Garcia </label><label style=""> 2 de Noviembre de 2024</label><br>
                        <p class="" style="text-align:left;">
                          {% lorem 1 %}
                        </p>
                    </div>
                  </div>
                </div>-->           
        </div>
    </div>


      <!--Footer-->
      <div class="container-fluid bg-dark p-3 mt-5">
        <div class="col">
            <ul class="">
                <li class="text-light footer-lista">Iñaki Retegi</li>
                <li class="text-light footer-lista">Inicio</li>
                <li class="text-light footer-lista">Sobre mi</li>
                <li class="text-light footer-lista">info@retegi.eus</li>
                <li class="text-light footer-lista">www.retegi.eus</li>
              </ul>
        </div>
      </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>



    <script>
    tinymce.init({
      selector: '#editor',
      plugins: 'codesample',
      toolbar: 'codesample',
      menubar: false,     
      codesample_languages: [
        {text: 'HTML/XML', value: 'markup'},
        {text: 'JavaScript', value: 'javascript'},
        {text: 'Python', value: 'python'},
        {text: 'CSS', value: 'css'},
        {text: 'PHP', value: 'php'},
      ],
      height: 400,
    });
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
      // Selecciona todos los bloques <pre>
      const codeBlocks = document.querySelectorAll('pre');

      codeBlocks.forEach((block) => {
          const button = document.createElement('button');
          button.className = 'copy-code-btn bg-secondary btn-sm';
          button.textContent = 'Copiar';
         
          block.appendChild(button);

          button.addEventListener('click', () => {
              const code = block.querySelector('code').textContent;
              navigator.clipboard.writeText(code).then(() => {
                  button.textContent = '¡Copiado!';
                  setTimeout(() => (button.textContent = 'Copiar'), 2000);
              });
          });
      });
  });
</script>


<!-- Place the first <script> tag in your HTML's <head> -->
<script src="https://cdn.tiny.cloud/1/2j2ya02wdq6mdhmgizz8hdn82mtkk38ahs0gl3rwdw6dnyws/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

<!-- Place the following <script> and <textarea> tags your HTML's <body> -->
<script>
  tinymce.init({
    selector: 'textarea',
    plugins: [
      // Core editing features
      'anchor', 'autolink', 'charmap', 'codesample', 'emoticons', 'image', 'link', 'lists', 'media', 'searchreplace', 'table', 'visualblocks', 'wordcount',
      // Your account includes a free trial of TinyMCE premium features
      // Try the most popular premium features until Jan 23, 2025:
      'checklist', 'mediaembed', 'casechange', 'export', 'formatpainter', 'pageembed', 'a11ychecker', 'tinymcespellchecker', 'permanentpen', 'powerpaste', 'advtable', 'advcode', 'editimage', 'advtemplate', 'ai', 'mentions', 'tinycomments', 'tableofcontents', 'footnotes', 'mergetags', 'autocorrect', 'typography', 'inlinecss', 'markdown','importword', 'exportword', 'exportpdf'
    ],
    toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat',
    tinycomments_mode: 'embedded',
    tinycomments_author: 'Author name',
    mergetags_list: [
      { value: 'First.Name', title: 'First Name' },
      { value: 'Email', title: 'Email' },
    ],
    ai_request: (request, respondWith) => respondWith.string(() => Promise.reject('See docs to implement AI Assistant')),
  });
</script>
<textarea>
  Welcome to TinyMCE!
</textarea>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>


  </body>
</html>
